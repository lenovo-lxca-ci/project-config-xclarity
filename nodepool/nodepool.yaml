script-dir: /etc/nodepool/scripts
elements-dir: /etc/nodepool/elements
images-dir: /opt/nodepool_dib
build-log-dir: /var/log/nodepool/builds

#cron:
#  cleanup: '*/1 * * * *'
#  check: '*/15 * * * *'
## TODO: Please choose a random hour for nodepool image updates.
## This will help reduce the load on upstream git farms & mirros where all 3rd
## party ci systems start building images at the same time.
## Doing so is easy, run the following command and replace image-update string
## with the results:
##   echo "0 $((RANDOM%23+1)) * * *"
## Example:
##   root@jenkins:~# echo "0 $((RANDOM%23+1)) * * *"
##   0 16 * * *
## This references the hour of the day when images will be built.
#  image-update: '0 19 * * *'

zmq-publishers:
  - tcp://localhost:8888

gearman-servers:
  - host: 127.0.0.1

labels:
  - name: ubuntu-T
    image: ubuntu-trusty
    min-ready: 1
    providers:
      - name: cloud_183

diskimages:
    - name: ubuntu-trusty
      elements:
        - ubuntu-minimal
        - vm
        - openstack-repos
        - nodepool-base
        - cache-devstack
      release: trusty
      env-vars:
        TMPDIR: /opt/dib_tmp
        DIB_IMAGE_CACHE: /opt/dib_cache

providers:
  - name: cloud_183
#TODO: Update the provider username, password, and authurl
    username: 'admin'
    password: '7b7a96dd01454439'
    auth-url: 'http://10.240.24.183:5000/v3'
    project-name: 'admin'
    user-domain-name: 'Default'
    project-domain-name: 'Default'
    max-servers: 2
    images:
      - name: ubuntu-trusty
        min-ram: 8192
        diskimage: dpc
        username: jenkins
        private-key: '/home/nodepool/.ssh/id_rsa'

targets:
  - name: jenkins1
